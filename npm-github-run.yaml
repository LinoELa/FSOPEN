# ğŸ§° Scripts comunes para React + TypeScript + Redux + Toolkit

# branches.yml

git_flow:
  branches:
    # Basadas en main
    - name: Helsinki
      from: main

    - name: 30Days/root
      from: main

    # Hijas jerÃ¡rquicas (todas desde 30Days/root)
    - name: 30Days/day-1
      from: 30Days/root
    - name: 30Days/day-2
      from: 30Days/root

  rename_root:
    description: Renombrar 30Days a 30Days/root
    commands:
      - git checkout 30Days
      - git branch -m 30Days/root
      - git push origin :30Days
      - git push -u origin 30Days/root

  create_day:
    description: Crear un nuevo dÃ­a desde 30Days/root
    commands:
      - git checkout -b 30Days/day-3 30Days/root
      - git push -u origin 30Days/day-3

  list_branches:
    description: Listar ramas en Ã¡rbol
    commands:
      - git fetch --all --prune
      - git branch --list

  delete_day:
    description: Borrar una rama local/remota
    commands:
      - git branch -D 30Days/day-2
      - git push origin :30Days/day-2

  restore_stash:
    description: Recuperar Ãºltimo stash
    commands:
      - git stash list
      - git stash show -p
      - git stash pop

# Los comandos se ejecutan con:
# npm run <comando>

scripts:
  # ğŸ --- Desarrollo ---
  dev: vite # Inicia el servidor de desarrollo
  start: vite # Alias de dev (compatible con CRA/Vite)
  preview: vite preview # Previsualiza la build localmente

  # ğŸ—ï¸ --- Build / ProducciÃ³n ---
  build: vite build # Compila la aplicaciÃ³n para producciÃ³n
  serve: vite preview # Sirve la build en modo local
  clean: rimraf dist # Limpia la carpeta dist (requiere rimraf)

  # ğŸ§ª --- Testing ---
  test: vitest # Ejecuta los tests con Vitest
  test:watch: vitest --watch # Ejecuta tests en modo vigilancia
  test:coverage: vitest run --coverage # Genera reporte de cobertura
  test:e2e: playwright test # Tests de extremo a extremo (si usas Playwright)

  # ğŸ§¹ --- Linting / Formateo ---
  lint: eslint . --ext .ts,.tsx # Analiza cÃ³digo con ESLint
  lint:fix: eslint . --fix # Corrige errores automÃ¡ticamente
  format: prettier --write . # Formatea cÃ³digo con Prettier
  typecheck: tsc --noEmit # Verifica tipos de TypeScript sin compilar

  # ğŸ§© --- Redux / ConfiguraciÃ³n ---
  redux:generate-slice: plop # (opcional) Genera un slice de Redux automÃ¡ticamente
  redux:check-store: node scripts/checkStore.js # (custom) ValidaciÃ³n de store global

  # ğŸ“¦ --- Dependencias ---
  deps:audit: npm audit # Escanea vulnerabilidades
  deps:update: npm-check -u # Actualiza dependencias de forma interactiva
  deps:outdated: npm outdated # Muestra dependencias obsoletas

  # ğŸ§± --- DocumentaciÃ³n / ConfiguraciÃ³n ---
  docs: typedoc --out docs src # Genera documentaciÃ³n con TypeDoc
  analyze: source-map-explorer dist/*.js # Analiza tamaÃ±o del bundle
  env: node -p "process.env" # Muestra variables de entorno activas

  # ğŸš€ --- Deploy / ProducciÃ³n ---
  deploy: gh-pages -d dist # Despliega en GitHub Pages
  vercel: vercel --prod # Despliega en Vercel
  netlify: netlify deploy --prod # Despliega en Netlify

  # ğŸ§  --- Mantenimiento ---
  check: npm run lint && npm run typecheck && npm test
  prepare: husky install # Inicializa hooks de Git (Husky)
